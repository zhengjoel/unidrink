(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-packages-index"],{"0600":function(t,e,o){"use strict";var a=o("ee27");o("acd8"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("96cf");var n=a(o("c964")),i=a(o("cb3d")),c=a(o("37e2")),b={components:{modal:i.default,jyfParser:c.default},data:function(){return{activeTabIndex:"",detailModalVisible:!1,coupon:{},couponIndex:0,coupons:[],amount:0,buttonLock:!1,coupon_id:0}},onShow:function(){this.activeTabIndex=0},onLoad:function(t){t.amount&&(this.amount=t.amount),t.coupon_id&&(this.coupon_id=t.coupon_id)},onPullDownRefresh:function(){this.getCoupons(this.activeTabIndex)},watch:{activeTabIndex:function(){var t=(0,n.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getCoupons(this.activeTabIndex);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},methods:{typeInfo:function(t){return 0==t?"外卖和自取":1==t?"自取":2==t?"外卖":void 0},getCoupons:function(){var t=this.$api.prePage();this.coupons=t.coupons},openDetailModal:function(t,e){this.couponIndex=e,this.coupon=t,this.$refs["couponExplain"].setContent(this.coupon.instructions||""),this.detailModalVisible=!0},useCouponWith:function(t){this.coupon=t,this.useCoupon()},cancelCoupon:function(){this.coupon={},this.coupon_id=0,this.$api.prePage().coupon={}},closeDetailModal:function(){this.detailModalVisible=!1,this.coupon={}},useCoupon:function(){1!=this.buttonLock&&(this.buttonLock=!0,parseFloat(this.coupon.least)>parseFloat(this.amount)?(this.$refs.uToast.show({title:"订单金额满"+this.coupon.least+"才能使用",type:"error"}),this.buttonLock=!1):(this.$api.prePage().coupon=this.coupon,uni.navigateBack({})))}}};e.default=b},2175:function(t,e,o){"use strict";var a=o("66f3"),n=o.n(a);n.a},"66f3":function(t,e,o){var a=o("c37e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=o("4f06").default;n("6c997f04",a,!0,{sourceMap:!1,shadowMode:!1})},"887d":function(t,e,o){"use strict";var a={modal:o("cb3d").default,jyfParser:o("37e2").default,uToast:o("f243").default},n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"container position-relative w-100 h-100 overflow-hidden"},[o("v-uni-scroll-view",{staticClass:"coupon-list",attrs:{"scroll-y":!0}},[o("v-uni-view",{staticClass:"wrapper"},t._l(t.coupons,(function(e,a){return o("v-uni-view",{key:a,staticClass:"coupon",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.openDetailModal(e,a)}}},[o("v-uni-view",{staticClass:"taobao"},[o("v-uni-view",{staticClass:"ticket",style:{border:e.id==t.coupon_id?"1rpx solid red":""}},[o("v-uni-view",{staticClass:"left"},[o("v-uni-image",{staticClass:"picture",attrs:{src:e.image,mode:"aspectFill"}}),o("v-uni-view",{staticClass:"introduce"},[o("v-uni-view",{staticClass:"top"},[t._v("￥"),o("v-uni-text",{staticClass:"big"},[t._v(t._s(e.value))]),o("v-uni-view",[t._v("满"+t._s(e.least)+"减"+t._s(e.value))])],1),o("v-uni-view",{staticClass:"type"},[t._v(t._s(e.title))]),o("v-uni-view",{staticClass:"date u-line-1"},[t._v(t._s(e.starttime_text)+"-"+t._s(e.endtime_text))])],1)],1),0==t.activeTabIndex?o("v-uni-view",{staticClass:"right",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[e.id!=t.coupon_id?o("v-uni-view",{staticClass:"use immediate-use",attrs:{round:!0},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.useCouponWith(e)}}},[t._v("立即使用")]):o("v-uni-view",{staticClass:"use immediate-use",attrs:{round:!0},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.cancelCoupon(e)}}},[t._v("取消使用")])],1):t._e()],1)],1)],1)})),1)],1),o("modal",{attrs:{custom:!0,show:t.detailModalVisible,width:"90%"},on:{cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.closeDetailModal.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"modal-content"},[o("v-uni-view",{staticClass:"d-flex font-size-extra-lg text-color-base just-content-center mb-20"},[t._v(t._s(t.coupon.title))]),o("v-uni-view",{staticClass:"d-flex font-size-sm text-color-base mb-20"},[t._v("有效期："+t._s(t.coupon.starttime_text)+"至"+t._s(t.coupon.endtime_text))]),o("v-uni-view",{staticClass:"d-flex font-size-sm text-color-base mb-20"},[t._v("领取时间："+t._s(t.coupon.createtime_text))]),o("v-uni-view",{staticClass:"d-flex font-size-sm text-color-base mb-20"},[t._v("卷价值：满"+t._s(t.coupon.least)+"减"+t._s(t.coupon.value))]),t.coupon.score>0?o("v-uni-view",{staticClass:"d-flex font-size-sm text-color-base mb-20"},[t._v("需要积分："+t._s(t.coupon.score))]):t._e(),o("v-uni-view",{staticClass:"d-flex font-size-sm text-color-base mb-20"},[t._v("适用范围："+t._s(t.typeInfo(t.coupon.type)))]),o("v-uni-view",{staticClass:"d-flex font-size-sm text-color-base mb-20"},[t._v("适用店铺："+t._s(t.coupon.shop_name))]),o("pre",{staticClass:"pre-line font-size-sm text-color-assist mb-30",staticStyle:{"max-height":"600rpx",overflow:"auto"}},[t._v(""),o("jyf-parser",{ref:"couponExplain"}),t._v("")],1),0==t.activeTabIndex?o("v-uni-view",{staticClass:"d-flex align-items-center just-content-center"},[o("v-uni-button",{staticClass:"use-coupon-btn",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.useCoupon.apply(void 0,arguments)}}},[t._v("立即使用")])],1):t._e()],1)],1),o("u-toast",{ref:"uToast"})],1)},i=[];o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return a}))},"931a":function(t,e,o){"use strict";o.r(e);var a=o("0600"),n=o.n(a);for(var i in a)"default"!==i&&function(t){o.d(e,t,(function(){return a[t]}))}(i);e["default"]=n.a},a130:function(t,e,o){"use strict";o.r(e);var a=o("887d"),n=o("931a");for(var i in n)"default"!==i&&function(t){o.d(e,t,(function(){return n[t]}))}(i);o("2175");var c,b=o("f0c5"),s=Object(b["a"])(n["default"],a["b"],a["c"],!1,null,"2ca2bf8b",null,!1,a["a"],c);e["default"]=s.exports},c37e:function(t,e,o){var a=o("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:iconfont-unidrink;\n  /* project id 2012069 */src:url(//at.alicdn.com/t/font_2012069_s111xbyeudl.ttf) format("truetype")}.iconfont-unidrink[data-v-2ca2bf8b]{font-family:iconfont-unidrink!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-alipay[data-v-2ca2bf8b]:before{content:"\\e60a"}@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_1789197_z1gzlwq7idq.ttf?t=1589441233693) format("truetype")}.iconfont[data-v-2ca2bf8b]{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.iconshoucang[data-v-2ca2bf8b]:before{content:"\\e667"}.iconshoucangfill[data-v-2ca2bf8b]:before{content:"\\e6c9"}.iconjifen[data-v-2ca2bf8b]:before{content:"\\e642"}.iconradio-button-off[data-v-2ca2bf8b]:before{content:"\\e688"}.iconradio-button-on[data-v-2ca2bf8b]:before{content:"\\e689"}.iconhelp[data-v-2ca2bf8b]:before{content:"\\e752"}.iconwxpay[data-v-2ca2bf8b]:before{content:"\\e611"}.iconbalance[data-v-2ca2bf8b]:before{content:"\\e619"}.iconadd-select[data-v-2ca2bf8b]:before{content:"\\e7b0"}.iconsami-select[data-v-2ca2bf8b]:before{content:"\\e7b1"}.iconmap[data-v-2ca2bf8b]:before{content:"\\e758"}.iconsuccess[data-v-2ca2bf8b]:before{content:"\\e767"}.iconsuccess-fill[data-v-2ca2bf8b]:before{content:"\\e78d"}.iconiconset0136[data-v-2ca2bf8b]:before{content:"\\e623"}.iconzan[data-v-2ca2bf8b]:before{content:"\\e640"}.iconjifenqiandao[data-v-2ca2bf8b]:before{content:"\\e6a6"}.iconshouyeshouye[data-v-2ca2bf8b]:before{content:"\\e606"}.icondaohang[data-v-2ca2bf8b]:before{content:"\\e641"}.iconwodelianxikefu[data-v-2ca2bf8b]:before{content:"\\e671"}.iconwodexinyuan[data-v-2ca2bf8b]:before{content:"\\e675"}.iconphone[data-v-2ca2bf8b]:before{content:"\\e6dd"}.icondingdan[data-v-2ca2bf8b]:before{content:"\\e645"}.iconliwu[data-v-2ca2bf8b]:before{content:"\\e61c"}.iconyinpinyinliao[data-v-2ca2bf8b]:before{content:"\\e60d"}.iconyinpin[data-v-2ca2bf8b]:before{content:"\\e70b"}.iconwaimaixinxi[data-v-2ca2bf8b]:before{content:"\\e685"}.iconico[data-v-2ca2bf8b]:before{content:"\\e646"}.iconwode[data-v-2ca2bf8b]:before{content:"\\e616"}.icongengduofuwu[data-v-2ca2bf8b]:before{content:"\\e607"}.iconqucan[data-v-2ca2bf8b]:before{content:"\\e625"}.iconyou[data-v-2ca2bf8b]:before{content:"\\e618"}.iconshouhuodizhi[data-v-2ca2bf8b]:before{content:"\\e666"}.iconshangcheng[data-v-2ca2bf8b]:before{content:"\\e63b"}.iconadd[data-v-2ca2bf8b]:before{content:"\\e742"}.iconarrow-right[data-v-2ca2bf8b]:before{content:"\\e743"}.iconarrow-lift[data-v-2ca2bf8b]:before{content:"\\e744"}.iconarrow-up[data-v-2ca2bf8b]:before{content:"\\e745"}.iconclose[data-v-2ca2bf8b]:before{content:"\\e747"}.iconleftbutton[data-v-2ca2bf8b]:before{content:"\\e755"}.iconreduce[data-v-2ca2bf8b]:before{content:"\\e75e"}.iconseleted[data-v-2ca2bf8b]:before{content:"\\e763"}.iconRightbutton[data-v-2ca2bf8b]:before{content:"\\e765"}.iconleftbutton-fill[data-v-2ca2bf8b]:before{content:"\\e782"}.iconRightbutton-fill[data-v-2ca2bf8b]:before{content:"\\e78a"}.iconarrow-down[data-v-2ca2bf8b]:before{content:"\\e7b2"}.iconaixin1[data-v-2ca2bf8b]:before{content:"\\e63c"}\n/* uni.scss */uni-page-body[data-v-2ca2bf8b]{height:100%}.container[data-v-2ca2bf8b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.bottom-box[data-v-2ca2bf8b]{height:%?80?%;-webkit-flex-shrink:0;flex-shrink:0}.bottom-box .item[data-v-2ca2bf8b]{padding:0 %?20?%;position:relative}.bottom-box .item[data-v-2ca2bf8b]::after{content:" ";border-right:%?1?% solid #919293;height:100%;position:absolute;right:0;top:0;-webkit-transform:scaleX(.5) scaleY(.8);transform:scaleX(.5) scaleY(.8)}.bottom-box .item[data-v-2ca2bf8b]:nth-last-child(1)::after{border-right:0}.coupon-list[data-v-2ca2bf8b]{margin-top:%?30?%;height:calc(100vh - %?120?%)}.wrapper[data-v-2ca2bf8b]{padding:0 %?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.wrapper .coupon[data-v-2ca2bf8b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background-color:#fff;margin-bottom:%?30?%;border-radius:%?6?%;box-shadow:0 %?10?% %?10?% %?-10?% rgba(15,15,15,.1);position:relative}.wrapper .coupon[data-v-2ca2bf8b]::before{content:"";position:absolute;background-color:#f1f8fa;width:%?30?%;height:%?30?%;bottom:%?65?%;left:%?-15?%;border-radius:100%}.wrapper .coupon[data-v-2ca2bf8b]::after{content:"";position:absolute;background-color:#f1f8fa;width:%?30?%;height:%?30?%;bottom:%?65?%;right:%?-15?%;border-radius:100%}.wrapper .coupon .detail[data-v-2ca2bf8b]{padding:%?20?% 0;position:relative}.wrapper .coupon .detail[data-v-2ca2bf8b]::after{content:"";position:absolute;left:0;right:0;bottom:0;border-bottom:%?1?% dashed #c6c6c6;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.wrapper .coupon .detail .coupon-img[data-v-2ca2bf8b]{width:%?150?%;height:%?150?%;margin-right:%?40?%}.use-coupon-btn[data-v-2ca2bf8b]{width:95%;border-radius:50rem!important}.taobao[data-v-2ca2bf8b]{background-color:#fff}.taobao .title[data-v-2ca2bf8b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:%?20?%;font-size:%?30?%}.taobao .title .left[data-v-2ca2bf8b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.taobao .title .store[data-v-2ca2bf8b]{font-weight:500}.taobao .title .buddha[data-v-2ca2bf8b]{width:%?70?%;height:%?70?%;border-radius:%?10?%;margin-right:%?10?%}.taobao .title .entrance[data-v-2ca2bf8b]{color:#909399;border:solid %?2?% #909399;line-height:%?48?%;padding:0 %?30?%;background:none;border-radius:15px}.taobao .ticket[data-v-2ca2bf8b]{display:-webkit-box;display:-webkit-flex;display:flex}.taobao .ticket .left[data-v-2ca2bf8b]{width:70%;padding:%?20?%;background-color:#fff;border-radius:%?20?%;border-right:dashed %?2?% #e0d7d3;display:-webkit-box;display:-webkit-flex;display:flex}.taobao .ticket .left .picture[data-v-2ca2bf8b]{border-radius:%?20?%;width:%?190?%;height:%?190?%}.taobao .ticket .left .introduce[data-v-2ca2bf8b]{margin-left:%?10?%}.taobao .ticket .left .introduce .top[data-v-2ca2bf8b]{color:#f90;font-size:%?28?%}.taobao .ticket .left .introduce .top .big[data-v-2ca2bf8b]{font-size:%?60?%;font-weight:700;margin-right:%?10?%}.taobao .ticket .left .introduce .type[data-v-2ca2bf8b]{font-size:%?28?%;color:#82848a}.taobao .ticket .left .introduce .date[data-v-2ca2bf8b]{margin-top:%?10?%;font-size:%?20?%;color:#82848a}.taobao .ticket .right[data-v-2ca2bf8b]{width:30%;padding:%?40?% %?20?%;background-color:#fff;border-radius:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.taobao .ticket .right .use[data-v-2ca2bf8b]{height:auto;padding:0 %?20?%;font-size:%?24?%;border-radius:%?40?%;color:#fff!important;background-color:#f90!important;line-height:%?40?%;color:#758ea5;margin-left:%?20?%}.taobao .ticket .right .used[data-v-2ca2bf8b]{height:auto;padding:0 %?20?%;font-size:%?24?%;border-radius:%?40?%;line-height:%?40?%;margin-left:%?20?%}.taobao .ticket .right_log[data-v-2ca2bf8b]{text-align:center;width:30%;padding:%?80?% %?0?%;background-color:#fff;border-radius:%?20?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}',""]),t.exports=e}}]);