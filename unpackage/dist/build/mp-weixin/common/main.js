(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"020b":function(t,e,r){"use strict";r.r(e);var n=r("9e60");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("1376");var a,u,i,c,f=r("f0c5"),l=Object(f["a"])(n["default"],a,u,!1,null,null,null,!1,i,c);e["default"]=l.exports},"0cfa":function(t,e,r){"use strict";(function(t,e){var n=f(r("a34a"));r("2e6e");var o=f(r("66fd")),a=f(r("020b")),u=f(r("f822")),i=f(r("5c72")),c=f(r("0bb2"));function f(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e){return m(t)||v(t,e)||h(t,e)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){if(t){if("string"===typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=t[Symbol.iterator]();!(n=(u=i.next()).done);n=!0)if(r.push(u.value),e&&r.length===e)break}catch(c){o=!0,a=c}finally{try{n||null==i["return"]||i["return"]()}finally{if(o)throw a}}return r}}function m(t){if(Array.isArray(t))return t}function g(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(f){return void r(f)}i.done?e(c):Promise.resolve(c).then(n,o)}function w(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){g(a,n,o,u,i,"next",t)}function i(t){g(a,n,o,u,i,"throw",t)}u(void 0)}))}}o.default.config.productionTip=!1,a.default.mpType="app",o.default.use(c.default),o.default.prototype.$store=i.default,o.default.prototype.$api={},o.default.prototype.$util=u.default,o.default.prototype.$unishow="http://unishop:8888/addons/unidrink",o.default.prototype.$unishow="https://drink.weivee.com/addons/unidrink",t.getSystemInfo({success:function(t){t.platform}}),o.default.prototype.$platform="MP-WEIXIN";var O=function(){var e=w(n.default.mark((function e(r){var a,u,i,c,f,l,p,s,y,h=arguments;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=h.length>1&&void 0!==h[1]?h[1]:"GET",u=h.length>2&&void 0!==h[2]?h[2]:{},i=!(h.length>3&&void 0!==h[3])||h[3],c=h.length>4&&void 0!==h[4]?h[4]:o.default.prototype.$unishow,f={"content-type":"application/x-www-form-urlencoded",lang:o.default.prototype.$store.state.lang,platform:o.default.prototype.$platform},o.default.prototype.$store.state.member.token&&(f.token=o.default.prototype.$store.state.member.token),o.default.prototype.$store.state.cookie&&(f.cookie=o.default.prototype.$store.state.cookie),e.next=9,t.request({url:c+r,method:a,header:f,data:u,timeout:5e3});case 9:return l=e.sent,p=d(l,2),s=p[0],y=p[1],e.abrupt("return",new Promise((function(e){if(s&&(i&&P(JSON.stringify(y)),e(!1)),y){if(y.header.hasOwnProperty("Set-Cookie")){var r=y.header["Set-Cookie"].replace("; path=/","");o.default.prototype.$store.commit("setCookie",r)}y.hasOwnProperty("data")?(y.data.hasOwnProperty("code")&&401==y.data.code&&o.default.prototype.$store.commit("SET_MEMBER",{}),y.data.hasOwnProperty("code")&&1==y.data.code?(y.data.msg?i&&P(y.data.msg):t.hideToast(),e(y.data.data)):(y.data.hasOwnProperty("msg")?i&&P(y.data.msg):i&&P("返回参数错误"),e(!1))):(i&&P("不能识别数据"),e(!1))}})));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();o.default.prototype.$api.request=O;var P=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";!1!==Boolean(e)&&(t.showToast({title:e,duration:r,mask:n,icon:o}),setTimeout((function(){t.hideToast()}),r))};o.default.prototype.$api.msg=P;var j=function(){var e=w(n.default.mark((function e(){var r,a,u,i;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return P("登录中"),e.next=3,t.login({provider:"weixin"});case 3:if(r=e.sent,a=d(r,2),a[0],u=a[1],!u.hasOwnProperty("code")){e.next=15;break}return e.next=10,O("/user/authSession","GET",{code:u.code});case 10:return i=e.sent,i&&i.hasOwnProperty("userInfo")&&i.userInfo.token&&""!=i.userInfo.token&&o.default.prototype.$store.commit("SET_MEMBER",i.userInfo),e.abrupt("return",!0);case 15:return P("登录失败"),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o.default.prototype.$wechatMiniLogin=j;var $=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=getCurrentPages();console.log(e);var r=e[e.length-2];return null!==t&&(r=e[t]),r.$vm};o.default.prototype.$api.prePage=$;var k=new o.default(p({store:i.default},a.default));e(k).$mount()}).call(this,r("543d")["default"],r("543d")["createApp"])},1376:function(t,e,r){"use strict";var n=r("db64"),o=r.n(n);o.a},"89ad":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r("2f62");function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i={methods:a({},(0,n.mapMutations)(["login","logout","setUserInfo"])),onLaunch:function(){console.log("App Launch")},onShow:function(){console.log("App Show"),this.$wechatMiniLogin()},onHide:function(){console.log("App Hide")}};e.default=i},"9e60":function(t,e,r){"use strict";r.r(e);var n=r("89ad"),o=r.n(n);for(var a in n)"default"!==a&&function(t){r.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},db64:function(t,e,r){}},[["0cfa","common/runtime","common/vendor"]]]);