(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"020b":function(t,e,r){"use strict";r.r(e);var n=r("9e60");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("1376");var a,u,i,c,f=r("f0c5"),l=Object(f["a"])(n["default"],a,u,!1,null,null,null,!1,i,c);e["default"]=l.exports},"0cfa":function(t,e,r){"use strict";(function(t,e){var n=l(r("4795"));r("2e6e");var o=l(r("66fd")),a=l(r("020b")),u=l(r("f5d2")),i=l(r("f822")),c=l(r("5c72")),f=l(r("0bb2"));function l(t){return t&&t.__esModule?t:{default:t}}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){return g(t)||m(t,e)||b(t,e)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(t,e){if(t){if("string"===typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=t[Symbol.iterator]();!(n=(u=i.next()).done);n=!0)if(r.push(u.value),e&&r.length===e)break}catch(c){o=!0,a=c}finally{try{n||null==i["return"]||i["return"]()}finally{if(o)throw a}}return r}}function g(t){if(Array.isArray(t))return t}function w(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(f){return void r(f)}i.done?e(c):Promise.resolve(c).then(n,o)}function O(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){w(a,n,o,u,i,"next",t)}function i(t){w(a,n,o,u,i,"throw",t)}u(void 0)}))}}o.default.config.productionTip=!1,a.default.mpType="app",o.default.use(f.default),o.default.prototype.$store=c.default,o.default.prototype.$api=u.default,o.default.prototype.$util=i.default,o.default.prototype.$unishow="http://unishop:8888/addons/unidrink",o.default.prototype.$unishow="http://drink.weivee.com/addons/unidrink",t.getSystemInfo({success:function(t){t.platform}}),o.default.prototype.$platform="MP-WEIXIN";var P=function(){var e=O(n.default.mark((function e(r){var a,u,i,c,f,l,p,s,d,h=arguments;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=h.length>1&&void 0!==h[1]?h[1]:"GET",u=h.length>2&&void 0!==h[2]?h[2]:{},i=!(h.length>3&&void 0!==h[3])||h[3],c=h.length>4&&void 0!==h[4]?h[4]:o.default.prototype.$unishow,f={"content-type":"application/x-www-form-urlencoded",lang:o.default.prototype.$store.state.lang,platform:o.default.prototype.$platform},o.default.prototype.$store.state.member.token&&(f.token=o.default.prototype.$store.state.member.token),o.default.prototype.$store.state.cookie&&(f.cookie=o.default.prototype.$store.state.cookie),e.next=9,t.request({url:c+r,method:a,header:f,data:u,timeout:5e3});case 9:return l=e.sent,p=y(l,2),s=p[0],d=p[1],e.abrupt("return",new Promise((function(e){if(s&&(i&&j(JSON.stringify(d)),e(!1)),d){if(d.header.hasOwnProperty("Set-Cookie")){var r=d.header["Set-Cookie"].replace("; path=/","");o.default.prototype.$store.commit("setCookie",r)}d.hasOwnProperty("data")?(d.data.hasOwnProperty("code")&&401==d.data.code&&o.default.prototype.$store.commit("SET_MEMBER",{}),d.data.hasOwnProperty("code")&&1==d.data.code?(d.data.msg?i&&j(d.data.msg):t.hideToast(),e(d.data.data)):(d.data.hasOwnProperty("msg")?i&&j(d.data.msg):i&&j("返回参数错误"),e(!1))):(i&&j("不能识别数据"),e(!1))}})));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();o.default.prototype.$api.request=P;var j=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";!1!==Boolean(e)&&(t.showToast({title:e,duration:r,mask:n,icon:o}),setTimeout((function(){t.hideToast()}),r))};o.default.prototype.$api.msg=j;var $=function(){var e=O(n.default.mark((function e(){var r,a,u,i;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return j("登录中"),e.next=3,t.login({provider:"weixin"});case 3:if(r=e.sent,a=y(r,2),a[0],u=a[1],!u.hasOwnProperty("code")){e.next=15;break}return e.next=10,P("/user/authSession","GET",{code:u.code});case 10:return i=e.sent,i&&i.hasOwnProperty("userInfo")&&i.userInfo.token&&""!=i.userInfo.token&&o.default.prototype.$store.commit("SET_MEMBER",i.userInfo),e.abrupt("return",!0);case 15:return j("登录失败"),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o.default.prototype.$wechatMiniLogin=$;var k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=getCurrentPages();console.log(e);var r=e[e.length-2];return null!==t&&(r=e[t]),r.$vm};o.default.prototype.$api.prePage=k;var S=new o.default(s({store:c.default},a.default));e(S).$mount()}).call(this,r("543d")["default"],r("543d")["createApp"])},1376:function(t,e,r){"use strict";var n=r("db64"),o=r.n(n);o.a},"89ad":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r("2f62");function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i={methods:a({},(0,n.mapMutations)(["login","logout","setUserInfo"])),onLaunch:function(){console.log("App Launch")},onShow:function(){console.log("App Show"),this.$wechatMiniLogin()},onHide:function(){console.log("App Hide")}};e.default=i},"9e60":function(t,e,r){"use strict";r.r(e);var n=r("89ad"),o=r.n(n);for(var a in n)"default"!==a&&function(t){r.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},db64:function(t,e,r){}},[["0cfa","common/runtime","common/vendor"]]]);