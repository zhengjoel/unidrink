(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/components/pages/orders/orders"],{"0a44":function(e,t,n){"use strict";n.r(t);var r=n("bca0"),o=n("e07c");for(var u in o)"default"!==u&&function(e){n.d(t,e,(function(){return o[e]}))}(u);n("e1bd");var a,i=n("f0c5"),c=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,"f80f1a88",null,!1,r["a"],a);t["default"]=c.exports},"2c3e":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("a34a"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,o,u,a){try{var i=e[u](a),c=i.value}catch(s){return void n(s)}i.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)}))}}var i=function(){n.e("components/list-cell/list-cell").then(function(){return resolve(n("23e6"))}.bind(null,n)).catch(n.oe)},c={components:{listCell:i},data:function(){return{page:1,pageSize:10,orders:[]}},computed:{orderGoodsName:function(){return function(e){var t=[];return e.forEach((function(e){return t.push(e.title+"*"+e.number)})),t.join("，")}},goodsNum:function(){return function(e){var t=0;return e.forEach((function(e){return t+=parseInt(e.number)})),t}}},onLoad:function(){var t=this;return a(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.$store.getters.isLogin||e.navigateTo({url:"/pages/components/pages/login/login"}),n.next=3,t.getOrders(!1);case 3:case"end":return n.stop()}}),n)})))()},onReachBottom:function(){var e=this;return a(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getOrders(!1);case 2:case"end":return t.stop()}}),t)})))()},onPullDownRefresh:function(){var e=this;return a(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getOrders(!0);case 2:case"end":return t.stop()}}),t)})))()},methods:{getOrders:function(){var t=arguments,n=this;return a(r.default.mark((function o(){var u,a;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return u=t.length>0&&void 0!==t[0]&&t[0],e.showLoading({title:"加载中"}),u&&(n.orders=[],n.page=1),r.next=5,n.$api.request("/order/getOrders","post",{page:n.page,pagesize:n.pageSize});case 5:a=r.sent,a&&(n.orders=n.orders.concat(a),n.page+=1),e.stopPullDownRefresh(),e.hideLoading();case 9:case"end":return r.stop()}}),o)})))()},detail:function(t){e.navigateTo({url:"/pages/orders/detail?id="+t})},review:function(t){var n=t.completed_time.split(" ")[0];e.navigateTo({url:"/pages/components/pages/review/review?storename="+t.store.name+"&typeCate="+t.typeCate+"&date="+n})},receive:function(e){var t=this;return a(r.default.mark((function n(){var o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$api.request("/order/receive?id="+e.order_id);case 2:if(o=n.sent,!o){n.next=6;break}return n.next=6,t.getOrders(!0);case 6:case"end":return n.stop()}}),n)})))()}}};t.default=c}).call(this,n("543d")["default"])},"84e7":function(e,t,n){},b62f:function(e,t,n){"use strict";(function(e){n("2e6e");r(n("66fd"));var t=r(n("0a44"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},bca0:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return r}));var r={listCell:function(){return n.e("components/list-cell/list-cell").then(n.bind(null,"23e6"))}},o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.orders,(function(t,n){var r=e.__get_orig(t),o=e.orderGoodsName(t.products),u=e.goodsNum(t.products);return{$orig:r,m0:o,m1:u}})));e.$mp.data=Object.assign({},{$root:{l0:n}})},u=[]},e07c:function(e,t,n){"use strict";n.r(t);var r=n("2c3e"),o=n.n(r);for(var u in r)"default"!==u&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=o.a},e1bd:function(e,t,n){"use strict";var r=n("84e7"),o=n.n(r);o.a}},[["b62f","common/runtime","common/vendor"]]]);